{% extends "shared/base.html" %}
{% load static %}
{% block content %}
    <div class="container mt-8">
        <div class="row">
            <div class="col-lg-3 col-md-4 col-sm-12 mb-3">
                <div id="list-example" class="list-group">
                    <a class="group-bg list-group-item list-group-item-action text-white active {% if user_type == 'employee' %}active{% endif %}"  href="#list-item-1" data-target="employee">Employee</a>
                    <a class="group-bg list-group-item list-group-item-action text-white {% if user_type == 'employer' %}active{% endif %}" href="#list-item-2" data-target="employer">Employer</a>
                    <a class="group-bg list-group-item list-group-item-action text-white {% if user_type == 'job_seeker' %}active{% endif %}" href="#list-item-3" data-target="jobseeker">Job Seeker</a>
                </div>
            </div>
            <div class="col-lg-5 col-md-7 col-sm-12 col-12">
                <div class="scrollspy-example text-white ">
                    <div id="list-item-1" data-section="employee">
                        <h4>Employee</h4>
                        <form method="post">
                            {% csrf_token %}
                            {{ employee_form.as_p }}
                            <div class='d-grid'>
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </div>
                        </form>
                    </div>
                    <div id="list-item-2" data-section="employer" style="display:none;">
                        <h4>Employer</h4>
                        <form method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            {{ employer_form.as_p }}
                            <div class='d-grid'>
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </div>
                        </form>
                    </div>
                    <div id="list-item-3" data-section="jobseeker" style="display:none;">
                        <h4>Job Seeker</h4>
                        <form method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            {{ job_seeker_form.as_p }}
                            <div class='d-grid'>
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block scripts %}

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navItems = document.querySelectorAll('#list-example .list-group-item');
            const sections = document.querySelectorAll('.scrollspy-example div[data-section]');

            navItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();

                    // Get the target section from data-target attribute
                    const target = this.getAttribute('data-target');

                    // Hide all sections
                    sections.forEach(section => {
                        section.style.display = 'none';
                    });

                    // Show the target section
                    document.querySelector(`div[data-section="${target}"]`).style.display = 'block';

                    // Remove active class from all nav items
                    navItems.forEach(nav => {
                        nav.classList.remove('active');
                    });

                    // Add active class to the clicked nav item
                    this.classList.add('active');
                });
            });
        });
    </script>
        
{% endblock scripts %}